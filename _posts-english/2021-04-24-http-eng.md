---
title: "HTTP(HyperText Transfer Protocol)"
search: false
category:
  - information
last_modified_at: 2021-08-28T01:00:00
---

<br>

👉 Recommend next posts.
- [HTTPS(HyperText Transfer Protocol over Secure Socket Layer)][https-link]
- [Cookie and Session][cookie-and-session-link]

## 0. Intro

As a server developer, this is the most familiar protocol. 
HTTP protocol is used to request web pages from a browser to server. 
REST API communication simply to send and receive data is also based on HTTP protocol. 
In order to increse the understanding of the protocol, I have studied and wrote this post. 

## 1. What is HTTP(HyperText Transfer Protocol)?

> Wiki<br>
> HTTP (HyperText Transfer Protocol) is a protocol that can exchange information over WWW (W3). 
> It is mainly used to send and receive HTML documents.

> HTML(HyperText Markup Language)<br> 
> HTML is a language for making web pages. It runs on the browser.

> Protocol<br>
> Protocol is the promise to communicate with the recognizable data form between communicating entities.

HTTP is the protocol used by the client and server to send and receive HTML documents. 
Typically, the protocol not only is used to exchange HTML documents but also JSON, plain text, XML document and ect. 
In this post, I have summarized about the sending and receiving of HTML document. 

##### The process until the browser shows the web page
- Users can see the web pages on the browser through following process.
1. User writes URL address in the browser search bar.
1. The browser forwards user's request to the server(host) corresponding to the URL.
1. The server responds after appropriate processing for the recieved users' request.
1. After receiving the server's response, the browser renders the HTML document for users.

<p align="center">
    <img src="/images/http-1.JPG" width="80%" class="image__border">
</p>

## 2. HTTP data format

### 2.1. Client request

The client request resource data from the server in the message form which is below. 
- Request Line - request method, path, protocol version
- Request Headers - other header information
- Request Message Body - additional information transmitted by users

<p align="center">
    <img src="/images/http-2.JPG" width="80%">
</p>
<center>HTTP Message Format 형식(Request Message & Response Message)</center>

<br>

### 2.2. Server response

The server responds to clients for the request in the message form which is below.
- Status Line - protocol version, status code, status message
- Response Header - other header information
- Response Body - information that the server sends to the clients

<p align="center">
    <img src="/images/http-3.JPG" width="80%">
</p>
<center>HTTP Message Format 형식(Request Message & Response Message)</center>

<br>

## 3. HTTP characteristics

Let's look around the characteristics of HTTP protocol.

### 3.1. Connectionless

It means that the server sends a response to the client and disconnects the established connection between the server and client.
The server provides services for an unspecified number of clients. 
Maintaining a connection with a client who requested once puts a lot of pressure on the server in terms of resource usage.
Therefore, the server does not maintain a connection after responding to the client's request.

From the client's point of view, it's a bit inconvenient. 
The connectionless feature causes the client to perform a new connect and disconnect process for every request, even though there are still more requests that it needs.

<p align="center">
    <img src="/images/http-4.JPG" width="30%" class="image__border">
</p>

### 3.2. Stateless

This characteristic is caused by the connectionless of HTTP communication. 
The server does not know the state of the client because the connection is not kept after responding to the client. 
From the server's point of view, the request is always from a new client. 
The stateless limits to provide convenient services to the client. 
Cookies and session are used to solve these problem. 
For more information, read [Cookie and Session][cookie-and-session-link] please.

<p align="center">
    <img src="/images/http-5.JPG" width="30%" class="image__border">
</p>

## 4. HTTP 동작 과정

1. Users enter the URL address of the web page they want to find through their web browser.
1. The browser searches the domain name which is part of the URL adress from DNS(domain name server).
  - For example, if the URL adress is `'https://www.naver.com/'`, then the domain name is `'naver.com'`.
  - In the network, as communication is working based on an IP address, the client computer needs to find an IP addess that matches URL at the DNS.
1. The URL address for the web page and the IP address are changed into HTTP request message.
1. The HTTP request message is sended to the server corresponding the IP address.
1. The sever sends an HTTP response message to the client after performing the appropriate actions for the request. 
1. The HTTP response message is passed back across the network. 
1. The HTTP response arriving at client side is converted into HTML document for making the web page by the HTTP protocol.
1. The converted HTML document is rendered by the browser and users can see.

<p align="center">
    <img src="/images/http-6.JPG" width="80%" class="image__border">
</p>
<center>http://tcpschool.com/webbasic/works</center>

<br>

## 5. HTTP Method
클라이언트가 서버로 요청하는 방식을 의미합니다. 
어떤 요청 방법들이 있는지 확인해보도록 하겠습니다. 

### 5.1. 주요 메소드
가장 많이 사용되는 요청 방식들입니다. 
알고 있어야하고 각 메소드들이 어떤 특징을 가지는지 파악하고 있어야합니다.

#### 5.1.1. GET 메소드
- 서버 측에 존재하는 자원에 대한 요청입니다.
- 요청 파라미터가 URL에 노출되어 보안에 취약합니다.

#### 5.1.2. POST 메소드
- 새로운 자원을 생성할 때 사용합니다.
- 클라이언트는 서버로 정보를 보낼 때 HTTP BODY에 담아서 제출합니다.
- 새로운 자원이 생기면 **`Location:`** 헤더에 새로이 작성된 리소스의 URL 주소 정보를 담아 응답합니다.

#### 5.1.3. PUT 메소드
- 존재하는 자원에 대한 변경합니다.
- POST 방식처럼 정보를 제출하지만 정보 갱신 위주로 사용됩니다.
- PUT 메소드는 클라이언트가 서버 측 구현에 관여하는 것이므로 통상 세밀한 POST 메소드를 주로 사용합니다.

#### 5.1.4. DELETE 메소드
- 존재하는 자원에 대한 삭제를 요청할 때 사용합니다.
- 서버는 요청에 해당하는 리소스를 삭제합니다.
- 통상 동일한 구현이 가능한 POST 메소드 방식으로 대체됩니다.

### 5.2. 기타 메소드
주로 사용되지는 않지만 알고 있으면 좋겠죠? 
함께 정리하였습니다.

#### 5.2.1. CONNECT 메소드
- 목적 리소스로 식별되는 서버로의 터널을 맺기 위해 사용하는 메소드입니다.
- <https://tools.ietf.org/html/rfc7231#section-4>

#### 5.2.2. HEAD 메소드
- 메세지 헤더(문서 정보)를 취득할 때 사용합니다.
- GET 요청과 비슷하지만 실제 문서를 요청하는 것은 아닌 메소드입니다.

#### 5.2.3. TRACE 메소드
- 요청 리소스가 수신되는 경로를 보여줍니다.
- 해당하는 리소스까지 이동하면서 loop-back 메세지를 전달합니다.

#### 5.2.4. OPTIONS 메소드
- 서버 측에서 제공하는 메소드가 무엇인지 확인할 때 사용합니다.
- 서버는 헤더 정보에 **`Allow: GET,POST,HEAD`** 와 같은 방식으로 자신이 처리할 수 있는 요청을 전달합니다.

#### 5.2.5. PATCH 메소드
- 리소스의 부분만 수정하는데 사용합니다.
- 서버가 자원을 수정하기 위해 동봉된 엔티티를 처리하는 방식에서 PUT 메소드와 차이가 있습니다.
- <https://tools.ietf.org/html/rfc5789#section-2>

### 5.3. HTTP 요청 메소드 별 특징 요약 (출처, https://ko.wikipedia.org/wiki/HTTP)

| HTTP 메소드 | RFC | 요청에 Body 존재 여부 | 응답에 Body 존재 여부 | 안전 | 멱등(Idempotent) | 캐시 가능 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| GET | RFC 7231 | 아니오 | 예 | 예 | 예 | 예 |
| HEAD | RFC 7231 | 아니오 | 아니오 | 예 | 예 | 예 |
| POST | RFC 7231 | 예 | 예 | 아니오 | 아니오 | 예 |
| PUT | RFC 7231 | 예 | 예 | 아니오 | 예 | 아니오 |
| DELETE | RFC 7231 | 아니오 | 예 | 아니오 | 예 | 아니오 |
| CONNECT | RFC 7231 | 예 | 예 | 아니오 | 아니오 | 아니오 |
| OPTIONS | RFC 7231 | 선택 사항 | 예 | 예 | 예 | 아니오 |
| TRACE | RFC 7231 | 아니오 | 예 | 예 | 예 | 아니오 |
| PATCH | RFC 5789 | 예 | 예 | 아니오 | 아니오 | 예  |

## 6. HTTP Status Code

서버가 클라이언트에게 전달해주는 응답의 상태를 의미합니다. 
어떤 응답 코드들이 있는지 확인해보도록 하겠습니다. 

### 6.1. 1xx - 정보 교환

100번대의 상태 코드는 서버와 클라이언트 사이의 정보 교환을 위해 사용합니다.
- 100 - Continue. 클라이언트로부터 일부 요청을 받았으니 나머지 요청 정보를 계속 보내주길 바랍니다.(HTTP 1.1에서 처음 등장)
- 101 - Switching Protocols. 서버는 클라이언트의 요청대로 Upgrade 헤더를 따라 다른 프로토콜로 바꿀 것입니다.(HTTP 1.1에서 처음 등장) 

### 6.2. 2xx - 성공

200번대의 상태 코드는 대부분 성공을 의미합니다.
- 200 - OK. GET 요청에 대한 성공입니다.
- 204 - No Content. 성공했으나 응답 본문에 데이터가 없습니다.
- 205 - Reset Content. 성공했으나 클라이언트의 화면을 새로 고침하도록 권고합니다.
- 206 - Partial Conent. 성공했으나 일부 범위의 데이터만 반환합니다.

### 6.3. 3xx - 리다이렉션

300번대의 상태 코드는 대부분 클라이언트가 이전 주소로 데이터를 요청하여 서버에서 새 URL로 리다이렉트를 유도하는 경우입니다.
- 300 - Multiple Choices. 최근에 옮겨진 데이터를 요청한 것 입니다. 
- 301 - Moved Permanently. 요청한 자원이 새 URL에 존재합니다.
- 303 - See Other. 요청한 자원이 임시 주소에 존재합니다.
- 304 - Not Modified. 요청한 자원이 변경되지 않았으므로 클라이언트에서 캐싱된 자원을 사용하도록 권고합니다.

### 6.4. 4xx - 클라이언트 에러

400번대 상태 코드는 대부분 클라이언트의 코드가 잘못된 경우입니다. 
유효하지 않은 자원을 요청했거나 요청이나 권한이 잘못된 경우 발생합니다.
- 400 - Bad Request, 잘못된 요청입니다.
- 401 - Unauthorized, 권한 없이 요청한 것입니다. Authorization 헤더가 잘못된 경우입니다.
- 403 - Forbidden, 서버에서 해당 자원에 대해 접근 금지라는 응답입니다.
- 405 - Method Not Allowed, 허용되지 않은 요청 메서드입니다.
- 409 - Conflict, 최신 자원이 아닌데 업데이트하는 경우입니다. 

### 6.5. 5xx - 서버 에러

500번대 상태 코드는 서버 쪽에서 오류가 난 경우입니다.
- 501 - Not Implemented, 요청한 동작에 대해 서버가 수행할 수 없는 경우
- 503 - Service Unavailable, 서버가 과부하 또는 유지 보수로 내려간 경우

#### REFERENCE
- [[Internet] HTTP? 개념잡기 통신과정-IMBETPY][http-blog-link-0]
- [HTTP 통신][http-blog-link-1]
- [HTTP Message Format 형식(Request Message & Response Message)][http-blog-link-2]
- [프런트엔드 개발자가 알아야하는 HTTP 프로토콜 Part 1][captain-pangyo-link]
- <https://ko.wikipedia.org/wiki/HTTP>
- <http://tcpschool.com/webbasic/works>
- <https://victorydntmd.tistory.com/286>
- <http://www.ktword.co.kr/abbr_view.php?m_temp1=3791>
- <https://developer.mozilla.org/ko/docs/Web/HTTP/Overview>
- <https://joshua1988.github.io/web-development/http-part1/>
- <https://junhyunny.github.io/information/cookie-and-session/>

[https-link]: https://junhyunny.github.io/information/https/
[cookie-and-session-link]: https://junhyunny.github.io/information/cookie-and-session/

[captain-pangyo-link]: https://joshua1988.github.io/web-development/http-part1/

[http-blog-link-0]: https://velog.io/@doomchit_3/Internet-HTTP-%EA%B0%9C%EB%85%90%EC%B0%A8%EB%A0%B7-IMBETPY
[http-blog-link-1]: https://hyojin96.tistory.com/entry/HTTP-%ED%86%B5%EC%8B%A0
[http-blog-link-2]: https://m.blog.naver.com/PostView.nhn?blogId=allstar927&logNo=90161809512&proxyReferer=https:%2F%2Fwww.google.com%2F
