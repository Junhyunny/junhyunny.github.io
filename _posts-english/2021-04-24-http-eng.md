---
title: "HTTP(HyperText Transfer Protocol)"
search: false
category:
    - information
last_modified_at: 2021-08-28T01:00:00
---

<br>

👉 Recommend next posts.

- [HTTPS(HyperText Transfer Protocol over Secure Socket Layer)][https-link]
- [Cookie and Session][cookie-and-session-link]

## 0. Intro

As a server developer, this is the most familiar protocol. 
HTTP protocol is used to request web pages from a browser to server. 
REST API communication simply to send and receive data is also based on HTTP protocol. 
In order to increse the understanding of the protocol, I have studied and wrote this post. 

## 1. What is HTTP(HyperText Transfer Protocol)?

> Wiki<br>
> HTTP (HyperText Transfer Protocol) is a protocol that can exchange information over WWW (W3). 
> It is mainly used to send and receive HTML documents.

> HTML(HyperText Markup Language)<br> 
> HTML is a language for making web pages. It runs on the browser.

> Protocol<br>
> Protocol is the promise to communicate with the recognizable data form between communicating entities.

HTTP is the protocol used by the client and server to send and receive HTML documents. 
Typically, the protocol not only is used to exchange HTML documents but also JSON, plain text, XML document and ect. 
In this post, I have summarized about the sending and receiving of HTML document. 

##### The process until the browser shows the web page

Users can see the web pages on the browser through following process.

1. User writes URL address in the browser search bar.
1. The browser forwards user's request to the server(host) corresponding to the URL.
1. The server responds after appropriate processing for the recieved users' request.
1. After receiving the server's response, the browser renders the HTML document for users.

<p align="center">
    <img src="/images/http-1.JPG" width="85%" class="image__border image__padding">
</p>

## 2. HTTP data format

### 2.1. Client request

The client request resource data from the server in the message form which is below. 

- Request Line - request method, path, protocol version
- Request Headers - other header information
- Request Message Body - additional information transmitted by users

<p align="center">
    <img src="/images/http-2.JPG" width="80%">
</p>
<center>HTTP Message Format 형식(Request Message & Response Message)</center>

### 2.2. Server response

The server responds to clients for the request in the message form which is below.

- Status Line - protocol version, status code, status message
- Response Header - other header information
- Response Body - information that the server sends to the clients

<p align="center">
    <img src="/images/http-3.JPG" width="80%">
</p>
<center>HTTP Message Format 형식(Request Message & Response Message)</center>

## 3. HTTP characteristics

Let's look around the characteristics of HTTP protocol.

### 3.1. Connectionless

It means that the server sends a response to the client and disconnects the established connection between the server and client.
The server provides services for an unspecified number of clients. 
Maintaining a connection with a client who requested once puts a lot of pressure on the server in terms of resource usage.
Therefore, the server does not maintain a connection after responding to the client's request.

From the client's point of view, it's a bit inconvenient. 
The connectionless feature causes the client to perform a new connect and disconnect process for every request, even though there are still more requests that it needs.

<p align="center">
    <img src="/images/http-4.JPG" width="35%" class="image__border image__padding">
</p>

### 3.2. Stateless

This characteristic is caused by the connectionless of HTTP communication. 
The server does not know the state of the client because the connection is not kept after responding to the client. 
From the server's point of view, the request is always from a new client. 
The stateless limits to provide convenient services to the client. 
Cookies and session are used to solve these problem. 
For more information, read [Cookie and Session][cookie-and-session-link] please.

<p align="center">
    <img src="/images/http-5.JPG" width="35%" class="image__border image__padding">
</p>

## 4. HTTP working process

1. Users enter the URL address of the web page they want to find through their web browser.
1. The browser searches the domain name which is part of the URL adress from DNS(domain name server).
    - For example, if the URL adress is `'https://www.naver.com/'`, then the domain name is `'naver.com'`.
    - In the network, as communication is working based on an IP address, the client computer needs to find an IP addess that matches URL at the DNS.
1. The URL address for the web page and the IP address are changed into HTTP request message.
1. The HTTP request message is sended to the server corresponding the IP address.
1. The sever sends an HTTP response message to the client after performing the appropriate actions for the request. 
1. The HTTP response message is passed back across the network. 
1. The HTTP response arriving at client side is converted into HTML document for making the web page by the HTTP protocol.
1. The converted HTML document is rendered by the browser and users can see.

<p align="center">
    <img src="/images/http-6.JPG" width="80%" class="image__border">
</p>
<center>http://tcpschool.com/webbasic/works</center>

<br>

## 5. HTTP methods

Let's look around HTTP methos which are used to reqeust. 

### 5.1. Main methods

These are mainly used request methods. 
We have to be aware and know what charateristics each method has.

#### 5.1.1. GET method

- A request method is for getting resources that exist on server side.
- Parameters for request are exposed in the URL, which is security vulnerability.

#### 5.1.2. POST mehod

- A request method is for creating new resources on server side.
- When clients send some information, it is submitted in the message part of HTTP.
- When new resources are created, it responds with the URL address of newly created resources in the HTTP header with the key name is `'Location'`.

#### 5.1.3. PUT method

- A request method is for changing to existing resources on server.
- It submits information like the POST method, but it mainly is used to update information.
- Since PUT method is that clients are invovled in server side implementation, so POST method is mainly used.

#### 5.1.4. DELETE method

- A request method is for deleting existing resources on a server.
- The server deletes the resources correspodding to the request.
- It is usually replaced by POST method that can implement equivalently.

### 5.2. Other methods

These are not commonly used, but I have summarized toghether.

#### 5.2.1. CONNECT method

- A request method is for establishing a tunnel to the server identified as the destination resource.
- <https://tools.ietf.org/html/rfc7231#section-4>

#### 5.2.2. HEAD method

- A request method is for obtaining the message header like document information.
- This method is similar to GET method, but not request for an actual document.

#### 5.2.3. TRACE mthod

- A request method is for showing the receiving path.
- The loop-back message is delivered while moving to the corresponding resource.

#### 5.2.4. OPTIONS method

- A request method is for getting methods are provided by a server.
- The server sends method types which can be handled with HTTP header like `'Allow: GET,POST,HEAD'`.

#### 5.2.5. PATCH method

- 리소스의 부분만 수정하는데 사용합니다.
- 서버가 자원을 수정하기 위해 동봉된 엔티티를 처리하는 방식에서 PUT 메소드와 차이가 있습니다.
- <https://tools.ietf.org/html/rfc5789#section-2>

### 5.3. Summarize the characteristic of HTTP request methods

| HTTP method | RFC | Existence of body in request | Existence of body in response | Safety | Idempotent | Cacheable |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| GET | RFC 7231 | NO | YES | YES | YES | YES |
| HEAD | RFC 7231 | NO | NO | YES | YES | YES |
| POST | RFC 7231 | YES | YES | NO | NO | YES |
| PUT | RFC 7231 | YES | YES | NO | YES | NO |
| DELETE | RFC 7231 | NO | YES | NO | YES | NO |
| CONNECT | RFC 7231 | YES | YES | NO | NO | NO |
| OPTIONS | RFC 7231 | 선택 사항 | YES | YES | YES | NO |
| TRACE | RFC 7231 | NO | YES | YES | YES | NO |
| PATCH | RFC 5789 | YES | YES | NO | NO | YES  |

## 6. HTTP Status Code

It means the status of the response that the server to the client. 
Let's check what response codes there are.

### 6.1. 1xx - Information exchange

Most status codes in the 100 are used to exchange information between the server and client.

- 100 - Continue. 
    - The server has received some requests from the client and needs continuing to send the rest of the request. 
    - It was introduced in HTTP 1.1.
- 101 - Switching Protocols. 
    - The server will switch to another proptocol according to `Upgrade` header in the client's request. 
    - It was introduced in HTTP 1.1.

### 6.2. 2xx - Success

Most status codes in the 200 range indicate success.

- 200 - OK. 
    - Success code for the request. 
- 204 - No Content. 
    - Success, but no data in ther response body.
- 205 - Reset Content. 
    - Success, but the client's screen is adviced to refresh. 
- 206 - Partial Conent. 
    - Success, but only some data returned. 

### 6.3. 3xx - Redirect

Most status codes in the 300 range indicate redirecting. 
When clients request data from an old address, the server leads to a new URL.

- 300 - Multiple Choices. 
    - The clients request data moved recently. 
- 301 - Moved Permanently. 
    - The requested resource exists at the new URL. 
- 303 - See Other. 
    - The requested resource exists at the temporary address.  
- 304 - Not Modified. 
    - Since the requested resource has not been changed, it is advicded that the client should use the cached resource. 

### 6.4. 4xx - Client error

Most status codes in the 400 range are due to the client's code being wrong. 
It occurs when an invalid resource is requested or the permission is incorrect.

- 400 - Bad Request. 
- 401 - Unauthorized. 
    - The clients request without the permission. The authorization header is wrong. 
- 403 - Forbidden. 
    - The server responds that access to the resource is forbidden. 
- 405 - Method Not Allowed. 
- 409 - Conflict. 
    - It occurs when the clients update out of date resources.

### 6.5. 5xx - Server error

Status codes in the 500 range indicate an error on the server side. 

- 501 - Not Implemented. 
    - The server cannot perform the requested action.
- 503 - Service Unavailable. 
    - The server is overheaded or down for maintenance. 

#### REFERENCE
- [[Internet] HTTP? 개념잡기 통신과정-IMBETPY][http-blog-link-0]
- [HTTP 통신][http-blog-link-1]
- [HTTP Message Format 형식(Request Message & Response Message)][http-blog-link-2]
- <https://ko.wikipedia.org/wiki/HTTP>
- <http://tcpschool.com/webbasic/works>
- <https://victorydntmd.tistory.com/286>
- <http://www.ktword.co.kr/abbr_view.php?m_temp1=3791>
- <https://developer.mozilla.org/ko/docs/Web/HTTP/Overview>
- <https://joshua1988.github.io/web-development/http-part1/>
- <https://junhyunny.github.io/information/cookie-and-session/>

[https-link]: https://junhyunny.github.io/information/https/
[cookie-and-session-link]: https://junhyunny.github.io/information/cookie-and-session/

[http-blog-link-0]: https://velog.io/@doomchit_3/Internet-HTTP-%EA%B0%9C%EB%85%90%EC%B0%A8%EB%A0%B7-IMBETPY
[http-blog-link-1]: https://hyojin96.tistory.com/entry/HTTP-%ED%86%B5%EC%8B%A0
[http-blog-link-2]: https://m.blog.naver.com/PostView.nhn?blogId=allstar927&logNo=90161809512&proxyReferer=https:%2F%2Fwww.google.com%2F
