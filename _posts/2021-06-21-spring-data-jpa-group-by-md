---
title: "JPA GROUP BY ì‚¬ìš© ì‹œ ConverterNotFoundException ë°œìƒ"
search: false
category:
  - spring-boot
  - jpa
  - junit
last_modified_at: 2021-06-21T00:00:00
---

<br>

í†µê³„ì„± ë°ì´í„°ë¥¼ ë³´ì—¬ì¤„ ë•Œ ê°€ì¥ ë¨¼ì € ì°¾ëŠ” ë°©ë²•ì€ SQLì˜ `GROUP BY` ì…ë‹ˆë‹¤. 
ëŒ€ë¶€ë¶„ì˜ ë°ì´í„° ì²˜ë¦¬ë¥¼ SQLì´ ì•„ë‹Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ í•´ê²°í•˜ì§€ë§Œ í†µê³„ì„± ë°ì´í„°ëŠ” ì—­ì‹œ SQLì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ì—¬ëŸ¬ëª¨ë¡œ í¸ë¦¬í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. 
JPAë¥¼ ì‚¬ìš©í•˜ê³  ì²˜ìŒìœ¼ë¡œ `GROUP BY` í‚¤ì›Œë“œê°€ ë“¤ì–´ê°„ SQLì„ ì‚¬ìš©í–ˆì„ ë•Œ ì´ëŸ° Exceptionì„ ë§ˆì£¼ì³¤ìŠµë‹ˆë‹¤. 

```
org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.geneuin.ksystem.common.domain.vo.ContainerGroupByItemGroup]
```

ìŒ...ğŸ§ ë”± ë³´ì•˜ì„ ë•Œ spring-data-jpa ì—ì„œ ë°˜í™˜í•˜ëŠ” íƒ€ì…ì´ ì œê°€ ì§€ì •í•œ íƒ€ì…ìœ¼ë¡œ ìë™ ë³€í™˜ë˜ì§€ ì•ŠëŠ” ë“¯ í•©ë‹ˆë‹¤. 
ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ ì„¸ ê°€ì§€ ì¡´ì¬í•©ë‹ˆë‹¤. 
ê´€ë ¨ëœ ë‚´ìš©ë“¤ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

## Error Case
ìš°ì„  ì–´ë–¤ ì¼€ì´ìŠ¤ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. 


## Use Object[]

> JPA queries typically produce their results as instances of a mapped entity. 
> However, queries with aggregation functions normally return the result as Object[].

JPA ì¿¼ë¦¬ëŠ” Entity ê°ì²´ë¥¼ ê²°ê³¼ë¡œ ë§Œë“¤ì§€ë§Œ ì§‘ê³„ í•¨ìˆ˜ê°€ ìˆëŠ” ì¿¼ë¦¬ì˜ ê²½ìš° Object ë°°ì—´ì„ ë°˜í™˜í•œë‹¤ê³  í•©ë‹ˆë‹¤. 
Object ë°°ì—´ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° Exceptionì´ ì—†ëŠ”ì§€


## Custom Class With JPQL

## Interface With Native Query



## OPINION

#### REFERENCE
- <https://algorithmstudy-mju.tistory.com/153>
- <https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions>