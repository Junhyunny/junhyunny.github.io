---
title: "HTTP(HyperText Transfer Protocol)"
search: false
category:
  - information
last_modified_at: 2021-04-24T00:00:00
---

<br>

서버 개발자라면 가장 많이 접하게 되는 프로토콜입니다. 
클라이언트(브라우저)가 서버로 웹 페이지를 요청하여 서버로부터 응답을 받을 때 사용합니다. 
단순히 데이터를 주고 받는 REST API 통신도 HTTP 프로토콜을 사용합니다. 
해당 프로토콜에 대한 이해도를 높이고자 포스트로 정리하면서 공부해보도록 하겠습니다.

## HTTP 란?

> Wiki<br>
> HTTP(HyperText Transfer Protocol)는 WWW(W3) 상에서 정보를 주고받을 수 있는 프로토콜이다. 주로 HTML 문서를 주고받는 데에 쓰인다.

정의를 읽어보니 HTML(HyperText Markup Language), 프로토콜(Protocol)에 대한 정의도 알아야겠습니다. 

> HTML(HyperText Markup Language)은 웹 페이지를 만들기 위한 언어로 브라우저에서 동작하는 언어<br>
> 프로토콜(Protocol)이란 통신하는 개체 간에 서로 알아볼 수 있는 데이터 형태로 송수신을 하자는 약속 

HTTP는 클라이언트와 서버가 HTML 문서를 주고 받는데 사용하는 프로토콜이라고 합니다. 
대표적으로 HTML 문서를 주고 받지만 HTML 문서만 가능한 것은 아닙니다.
경우에 따라서 JSON, Plain Text, XML 등의 형태로도 데이터를 주고 받습니다. 
이번 포스트에서는 이해를 돕기 위해 HTML 문서 송수신을 예시로 정리하였습니다.

사용자는 다음과 같은 일련의 과정을 거쳐서 웹 페이지를 볼 수 있습니다. 
- 사용자가 브라우저에 URL 주소를 작성
- 브라우저는 해당 URL에 대응하는 서버(호스트)로 사용자의 요청을 전달
- 서버는 전달 받은 요청에 대해 적절한 처리 후 응답
- 서버의 응답을 전달 받은 브라우저는 사용자가 볼 수 있도록 HTML 문서를 화면으로 시각화(rendering)

##### 브라우저가 웹 페이지를 보여주기까지 과정
<p align="center"><img src="/images/http-1.JPG" width="80%"></p>

## HTTP의 약속된 데이터 형태

### 클라이언트 요청
클라이언트는 다음과 같은 메세지 형태로 서버에게 데이터를 요청합니다.
- Request Line - 요청 방법(method), 경로, 프로토콜 버전
- Request Headers - 기타 헤더 정보
- Request Message Body - 사용자가 추가적으로 전달하는 정보

<p align="center"><img src="/images/http-2.JPG" width="80%"></p>
<center>이미지 출처, HTTP Message Format 형식(Request Message & Response Message)</center><br>

### 서버 응답
서버는 다음과 같은 메세지 형태로 클라이언트에게 응답합니다.
- Status Line - 프로토콜 버전, 상태 코드, 상태 메세지
- Response Header - 기타 헤더 정보
- Response Body - 서버가 클라이언트에게 전달하는 정보

<p align="center"><img src="/images/http-3.JPG" width="80%"></p>
<center>이미지 출처, HTTP Message Format 형식(Request Message & Response Message)</center><br>

## HTTP 특징
HTTP 통신은 어떤 특징이 있는지 알아보겠습니다. 

### 비연결성(Connectionless)
클라이언트와 서버가 연결을 맺은 후 서버가 응답을 마치면 맺은 연결을 끊어버리는 것을 의미합니다. 
서버는 불특정 다수의 클라이언트를 위해 서비스를 제공합니다. 
한번 요청한 클라이언트와 연결을 계속 유지하는 것은 리소스 사용 측면에서 서버에게 많은 부담을 줍니다. 
그렇기에 서버는 클라이언트의 요청에 대한 응답 후 연결을 유지하지 않습니다. 

클라이언트 입장에서 생각하면 조금 불편함이 있습니다. 
비연결성 특징은 클라이언트가 아직 필요한 요청이 더 있음에도 불구하고 매 요청마다 새로운 연결/해제 과정을 수행시킵니다.

<p align="center"><img src="/images/http-4.JPG" width="80%"></p>

### 무상태(Stateless)
HTTP 통신의 비연결성으로 인해 발생하는 특징입니다. 
서버는 클라이언트의 요청에 대해 응답 후 연결을 유지하지 않기 때문에 클라이언트의 상태를 모릅니다. 
서버 입장에서는 항상 새로운 클라이언트입니다. 
이런 특징은 클라이언트에게 편리한 서비스를 제공하는데 제약을 주는데 이를 해결하기 위한 것이 쿠키(Cookie)와 세션(Session)입니다. 
자세한 내용은 [쿠키(Cookie)와 세션(Session)][cookie-and-session-link] 포스트를 읽어보시면 좋을 것 같습니다.

<p align="center"><img src="/images/http-5.JPG" width="80%"></p>

## HTTP 동작 과정
1. 사용자가 웹 브라우저를 통해 찾고 싶은 웹 페이지의 URL 주소를 입력합니다.
1. 사용자가 입력한 URL 주소 중에서 도메인 네임(domain name) 부분을 DNS 서버에서 검색합니다.
  - 예를 들어 https://www.naver.com/ 인 경우에 도메인 이름은 naver.com 입니다.
  - 실제 네트워크에서 통신은 IP 주소를 기반으로 수행되기 때문에 해당 URL 과 매칭되는 IP 주소를 DNS 서버에서 찾아야합니다.
1. DNS 서버에서 해당 도메인 네임에 해당하는 IP 주소를 찾아 사용자가 입력한 URL 정보와 함께 전달합니다.
1. 웹 페이지 URL 정보와 전달받은 IP 주소는 HTTP 프로토콜을 사용하여 HTTP 요청 메시지를 생성합니다.
1. 해당 IP 주소를 가진 서버로 전달된 HTTP 요청 메세지는 HTTP 프로토콜을 사용하여 URL 정보로 변환됩니다.
1. 서버는 해당 요청에 대해 적절한 수행 후 클라이언트에게 HTTP 응답 메세지를 전달합니다.
1. HTTP 응답은 다시 네트워크를 거쳐 클라이언트에게 전달됩니다.
1. 클라이언트에게 도착한 HTTP 응답 메세지는 HTTP 프로토콜에 의해 웹 페이지 데이터로 변환됩니다. 
1. 변환된 웹 페이지 데이터는 웹 브라우저에 의해 출력되어 사용자가 이를 볼 수 있습니다.

<p align="center"><img src="/images/http-6.JPG" width="80%"></p>
<center>이미지 출처, http://tcpschool.com/webbasic/works</center><br>

## HTTP Method



## HTTP Status Code

## OPINION
작성 중 입니다.

#### REFERENCE
- [[Internet] HTTP? 개념잡기 통신과정-IMBETPY][http-blog-link-0]
- [HTTP 통신][http-blog-link-1]
- [HTTP Message Format 형식(Request Message & Response Message)][http-blog-link-2]
- <https://ko.wikipedia.org/wiki/HTTP>
- <http://tcpschool.com/webbasic/works>
- <https://victorydntmd.tistory.com/286>
- <https://developer.mozilla.org/ko/docs/Web/HTTP/Overview>
- <https://joshua1988.github.io/web-development/http-part1/>
- <https://junhyunny.github.io/information/cookie-and-session/>

[http-blog-link-0]: https://velog.io/@doomchit_3/Internet-HTTP-%EA%B0%9C%EB%85%90%EC%B0%A8%EB%A0%B7-IMBETPY
[http-blog-link-1]: https://hyojin96.tistory.com/entry/HTTP-%ED%86%B5%EC%8B%A0
[http-blog-link-2]: https://m.blog.naver.com/PostView.nhn?blogId=allstar927&logNo=90161809512&proxyReferer=https:%2F%2Fwww.google.com%2F
[cookie-and-session-link]: https://junhyunny.github.io/information/cookie-and-session/