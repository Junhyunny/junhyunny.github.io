---
title: "Introduction Terraform"
search: false
category:
  - information
  - infrastructure
  - dev-ops
last_modified_at: 2023-06-03T23:55:00
---

<br/>

## 0. 들어가면서

개발자라는 직업은 전문직으로써 깊은 수준의 지식은 필수이며 필요에 따라 얇고 넓은 지식도 필요합니다. 
데브옵스(DevOps)나 인프라스트럭처(infrastructure) 엔지니어는 아니지만, 이 분야의 기술들을 공부할 필요가 생겼습니다. 
이번 포스트에선 최근 공부 중인 자동화 프로비저닝(provisioning) 도구인 테라폼(terraform)을 가볍게 소개하겠습니다. 

## 1. Provisioning

테라폼을 소개하기 전에 먼저 프로비저닝의 개념에 대해 알아보겠습니다. 

> 프로비저닝은 IT 인프라를 생성하고 설정하는 프로세스

자세히 들여다보면 다음과 같이 분류할 수 있습니다.

* 서버 프로비저닝(Server Provisioning)
    * 물리적 혹은 가상화 된 하드웨어를 세팅하는 프로세스입니다.
    * 운영체제, 어플리케이션 등을 설치합니다.
    * 미들웨어, 네트워크, 스토리지 컴포넌트 등을 연결합니다.
    * 새 시스템을 생성하고, 비즈니스 요구 사항에 따라 정의된 시스템 상태를 만드는 모든 작업입니다.
* 클라우드 프로비저닝(Cloud Provisioning)
    * 조직의 클라우드 환경에 인프라스트럭처를 생성하는 작업입니다.
    * 필요한 리소스, 서비스 그리고 어플리케이션을 클라우드에 세팅하는 프로세스입니다.
* 사용자 프로비저닝(User Provisioning)
    * 사용자 책임 수준에 따라 적절한 권한을 부여하는 작업입니다. 
    * 전자 메일, 데이터베이스 또는 네트워크 환경 내의 서비스냐 어플리케이션에 대한 사용 권한을 부여합니다.
    * 사용자 액세스를 권한을 부여하거나 취소합니다.

## 2. Pain Points of Infrastructure Team 

시스템도 현대화가 진행되면서 많은 인프라가 클라우드(cloud) 환경으로 이전되고 있습니다. 
신속한 서비스 배포, 비즈니스적인 확장성과 유연성 확보, 비용 등의 문제로 클라우드 전환은 멈추지 않을 것으로 보입니다. 
대표적인 클라우드 제공자(cloud provider)인 AWS(Amazon Web Service)는 웹 화면에서 간단한 클릭만으로 인프라를 구축할 수 있습니다. 

클라우드 인프라 구축은 보기와 다르게 마냥 쉬운 작업이 아닙니다. 
필자의 경우 인프라 팀으로써 업무 경험은 없지만, 작은 인프라를 구축할 때도 필요한 리소스들을 만들고 연결하는 작업이 많다는 사실을 최근 공부하면서 느끼고 있습니다. 
조사해보니 인프라 팀 업무의 다음과 같은 어려움들 있는 것으로 보입니다. 

* 웹 콘솔을 이용해 수동으로 작업하면 실수가 잦아집니다.
    * 빠뜨리는 리소스, 팀 컨벤션에 맞지 않는 태그나 보안 규칙 등
* 이전 작업자의 업무 수행 내용을 현재 작업자가 추적하기 어렵습니다.
    * 각 서비스 인프라마다 어떤 리소스들이 사용되고 연결되어 있는지
    * 머신 이미지(machine image)에 어떤 작업이 되어 있는지
* 인프라에 문제가 발생하면 언제 누구의 작업이 원인인지 찾기 어렵습니다.
* 비슷한 구성의 인프라를 구축하는데 이를 계속 반복 작업합니다.
    * 각기 다른 지역(region)마다 같은 인프라를 구축
    * 다른 서비스를 위한 같은 인프라를 구축
    * 다른 계정(개발, 스테이징, 운영)마다 같은 인프라를 구축

조직 규모가 커지고 사용하는 인프라 자원 수가 늘어날수록 관리의 어려움이 생깁니다. 
클라우드 인프라 작업에 대한 내용을 문서로 관리하는 것도 어렵습니다. 






## CLOSING

#### TEST CODE REPOSITORY

#### RECOMMEND NEXT POSTS

#### REFERENCE

* <https://www.redhat.com/en/topics/automation/what-is-provisioning>
* <https://developer.hashicorp.com/terraform/intro>
* <https://www.slideshare.net/minkyukim77/packer-terraform-vault-101859832>
* <https://sendbird.com/ko/blog/infrastructure-management-using-terraform>
* <https://helloworld.kurly.com/blog/terraform-adventure/>