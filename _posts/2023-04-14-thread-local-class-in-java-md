---
title: "ThreadLocal 클래스"
search: false
category:
  - java
last_modified_at: 2023-04-14T23:55:00
---

<br/>

#### RECOMMEND POSTS BEFORE THIS

* [Proccess and Thread][process-vs-thread-link]

## 1. ThreadLocal 클래스

JDK 1.2부터 지원된 기능입니다. 
스레드(thread) 단위로 값을 저장할 수 있는 메모리 공간입니다. 
ThreadLocal 클래스에 대해 알아보기 전에 `Java` 메모리 중 스택(stack)을 간단하게 살펴보겠습니다. 

### 1.1. Stack Memory for Thread in Java

`Java`는 각 스레드에게 스택이라는 고유한 메모리 공간을 부여합니다. 
각 스레드 별로 가지는 저장 공간이며 다른 스레드들과 공유하지 않습니다. 
스레드는 자신이 만드는 실행 흐름에서 메소드를 호출할 때마다 스택에 필요한 컨텍스트(context)를 만들고 제거하기를 반복합니다. 

##### Stack Memory for Thread

* 스레드가 메소드를 실행하면 스택에 필요한 컨텍스트를 생성합니다.
* 메소드 내부에서 선언한 변수는 스택 공간을 차지합니다.
* 메소드 내부에서 생성한 객체는 힙(heap) 공간을 차지합니다.
* 변수에 저장된 값은 힙 공간에 생성된 객체를 참조합니다.
* 힙에 생성된 객체는 스택의 변수를 통해 접근하기 때문에 

<p align="center">
    <img src="/images/thread-local-class-in-java-2.JPG" width="80%" class="image__border">
</p>

### 1.1. Why do we need ThreadLocal?

Proccess and Thread



### 1.1. Usage of ThreadLocal

### 1.2. 

## 2. Test

## CLOSING

#### TEST CODE REPOSITORY

#### RECOMMEND NEXT POSTS

#### REFERENCE

* <https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadLocal.html>

[process-vs-thread-link]: https://junhyunny.github.io/information/operating-system/process-vs-thread/