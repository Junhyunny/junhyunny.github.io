---
title: "OSIV, Open Session In View"
search: false
category:
  - spring-mvc
  - jpa
last_modified_at: 2022-04-22T23:55:00
---

<br>

ğŸ‘‰ í•´ë‹¹ í¬ìŠ¤íŠ¸ë¥¼ ì½ëŠ”ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.
- [JPA Persistence Context][jpa-persistence-context-link]
- [ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(Persistence Context) ì¥ì ][persistence-context-advantages-link]
- [JPA Flush][jpa-flush-link]
- [@Transactional Propagtaion Type][transactional-propagation-type-link]

## 0. ë“¤ì–´ê°€ë©´ì„œ

[MVC(Model, View, Controller) Pattern][mvc-pattern-link]ì— ëŒ€í•´ ì •ë¦¬í•œ ê¸€ì„ ë‹¤ì‹œ ì½ë‹¤ë³´ë‹ˆ í˜•í¸ì—†ëŠ” ì˜ˆì œ ì½”ë“œë¥¼ ì‘ì„±í•´ë‘ì–´ì„œ ì´ë¥¼ ì¡°ê¸ˆ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤. 
ê°€ì¥ ë§ˆìŒì— ë“¤ì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì´ ì—”í‹°í‹°(entity) ê°ì²´ë¥¼ ë·°(view) ì˜ì—­ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ì½”ë“œì˜€ëŠ”ë°, ë¬¸ë“ ì—”í‹°í‹°ì˜ ì†ì„±ì„ ë·° ì˜ì—­ì¸ JSP íŒŒì¼ì—ì„œ ë³€ê²½í•˜ë©´ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šì„ì§€ ê¶ê¸ˆí•˜ì˜€ìŠµë‹ˆë‹¤. 
`OSIV(Open Session In View)` íŒ¨í„´ì—ì„œ ë§í•˜ëŠ” `"ì„¸ì…˜ì´ ìœ ì§€ëœë‹¤."`ë¼ëŠ” ì˜ë¯¸ë¥¼ `"íŠ¸ëœì­ì…˜ì´ ì´ì–´ì§„ë‹¤."`ë¼ê³  ì°©ê°í•˜ê³  ìˆì–´ì„œ ë°œìƒí•œ ì˜¤í•´ì˜€ìŠµë‹ˆë‹¤. 
ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„  ê¶ê¸ˆí–ˆë˜ ë‚´ìš©ê³¼ í•¨ê»˜ `OSIV` íŒ¨í„´ì— ëŒ€í•œ ê°œë…ì„ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤. 

## 1. ì‹œì‘í•˜ê¸° ì „ í•„ìš”í•œ ê°œë…

ì„¸ì…˜

ì‘ì—…ë‹¨ìœ„

ë³€ê²½ ê°ì§€, dirty check

í”ŒëŸ¬ì‹œ

í•˜ì´ë²„ë„¤ì´íŠ¸ ì—”í‹°í‹° ë¼ì´í”„ì‚¬ì´í´

Transient, Persistence, Detached, Removed

ë ˆì´ì§€ ë¡œë”©
- ë ˆì´ì§€ ë¡œë”©ì„ í•˜ë ¤ë©´ persistence ìƒíƒœì´ì–´ì•¼ í•œë‹¤.
- 

ì§€ì—° ì“°ê¸°(transactional write-behind)
- ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì „ì†¡ë˜ëŠ” ì¿¼ë¦¬ ìˆ˜ë¥¼ ì¤„ì¸ë‹¤.
- íŠ¸ëœì­ì…˜ì— ì˜í•´ ë°ì´í„°ë² ì´ìŠ¤ì— ë½ì´ ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ìµœì†Œí™”í•œë‹¤.

@Transactional ì• ë„ˆí…Œì´ì…˜

ì „íŒŒ íƒ€ì…


## 2. Open Session In View Pattern

### 2.1. Tranditional OSIV Pattern

### 2.2. 

## 3. Lazy loading in JSP


## 4. Change entities properties in JSP



## CLOSING

#### TEST CODE REPOSITORY
- <https://github.com/Junhyunny/blog-in-action/tree/master/2022-04-20-open-session-in-view>

#### REFERENCE
- <http://aeternum.egloos.com/2798098>
- <http://pds19.egloos.com/pds/201106/28/18/Open_Session_In_View_Pattern.pdf>

[mvc-pattern-link]: https://junhyunny.github.io/information/design-pattern/mvc-pattern/
[jpa-persistence-context-link]: https://junhyunny.github.io/spring-boot/jpa/junit/jpa-persistence-context/
[persistence-context-advantages-link]: https://junhyunny.github.io/spring-boot/jpa/junit/persistence-context-advantages/
[jpa-flush-link]: https://junhyunny.github.io/spring-boot/jpa/junit/jpa-flush/
[transactional-propagation-type-link]: https://junhyunny.github.io/spring-boot/jpa/junit/transactional-propagation-type/