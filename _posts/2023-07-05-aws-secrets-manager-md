---
title: "AWS Secrets Manager with Spring Boot"
search: false
category:
  - java
  - spring-boot
  - amazon-web-service
last_modified_at: 2023-07-05T23:55:00
---

<br/>

## 1. AWS Secrets Manager

데이터베이스 인증서, API 키, 토큰 등 IT 리소스(resource) 접근에 필요한 보안 암호를 보호, 관리하는 AWS 컴포넌트입니다. 

* 보안 암호를 대규모로 관리, 교체, 검색할 수 있다.
* 보안 암호의 수명 주기를 관리한다.
* 다른 AWS 서비스와 통합하여 모니터링을 자동화한다.
* 내부 보안 또는 규정 요건을 충족하지 않는 암호를 빠르게 찾아낼 수 있다.
* 보안 암호 복제 기능으로 여러 지역의 어플리케이션과 재해 복구 상황을 지원한다.
* 어플리케이션에서 필요한 설정 값들을 프로파일(profile) 단위로 관리할 수 있습니다. 
    * 서비스가 배포되는 환경 별로 다른 설정 값을 사용할 수 있습니다.

## 2. AWS Secrets Manager Config in Spring Cloud

스프링 클라우드(spring cloud)는 AWS Scretes Manager을 쉽게 사용할 수 있도록 의존성(dependency)를 제공합니다. 

* 아래 의존성을 추가합니다. 
* `bootsrap.yml` 파일에 필오한 설정을 추가합니다.
* 어플리케이션이 실행되는 시점에 AWS Secrets Manager에서 필요한 설정 값들을 읽습니다.

```xml
<dependency>
    <groupId>io.awspring.cloud</groupId>
    <artifactId>spring-cloud-starter-aws-secrets-manager-config</artifactId>
    <version>2.4.4</version>
</dependency>
```

## 3. Practice

Secrets Manager에 간단한 프로퍼티를 설정하고 어플리케이션에서 주입 받는 예제를 살펴보겠습니다. 

### 3.1. Setup Secrets

### 3.2. Configuration Injection

## CLOSING

#### TEST CODE REPOSITORY

#### RECOMMEND NEXT POSTS

#### REFERENCE

* <https://aws.amazon.com/ko/secrets-manager/features/>
* <https://docs.aws.amazon.com/ko_kr/secretsmanager/latest/userguide/intro.html>
* <https://www.baeldung.com/spring-boot-integrate-aws-secrets-manager>
* <https://devocean.sk.com/blog/techBoardDetail.do?ID=164482>
* [[Spring Boot] AWS Secret Manager를 이용하여 프로퍼티를 관리하자](https://velog.io/@korea3611/Spring-Boot-AWS-Secret-Manager%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%98%EC%9E%90)